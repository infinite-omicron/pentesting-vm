build {
  name        = "pentesting-vagrant"
  description = "Penetration Testing Virtual Machine"

  sources = [
    "source.vagrant.alpine"
  ]

  provisioner "shell" {
    environment_vars = ["GOPATH=$HOME/go","PIP_ROOT_USER_ACTION=ignore"]
    scripts = [
      "scripts/dependencies.sh",
      "scripts/apktool.sh",
      "scripts/dex2jar.sh",
      "scripts/jd_cmd.sh",
      "scripts/theharvester.sh",
      "scripts/zaproxy.sh",
      "scripts/firefox.sh"
    ]
    execute_command = "echo 'vagrant' | sudo -S -E sh -c '{{ .Vars }} {{ .Path }}'"
  }
}
<<<<<<< HEAD
<<<<<<< HEAD

<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> aa64b6e (pip warning fixes)
=======
>>>>>>> 25dbaa7 (Update build.alpine.pkr.hcl)
=======

>>>>>>> 19095b5 (spacing)
build {
  name        = "pentesting-docker"
  description = "Penetration Testing Virtual Machine"

  sources = [
    "source.docker.alpine"
  ]
<<<<<<< HEAD

  provisioner "shell" {
    scripts = [
      "scripts/dependencies.sh",
      "scripts/apktool.sh",
      "scripts/dex2jar.sh",
      "scripts/jd_cmd.sh",
      "scripts/theharvester.sh",
      "scripts/zaproxy.sh",
      "scripts/firefox.sh"
    ]
<<<<<<< HEAD
=======
<<<<<<< HEAD
    execute_command = "echo 'vagrant' | sudo -S -E sh -c '{{ .Vars }} {{ .Path }}'"
=======
>>>>>>> aa64b6e (pip warning fixes)
>>>>>>> 554fdbd (pip warning fixes)
  }

  provisioner "shell" {
    /* Fix permissions */
    inline = ["chown -R root:root /opt"]
  }
=======
  
  post-processor "docker-tag" {
<<<<<<< HEAD
  repository = "hcr.io/infinite-omicron/pentesting:latest"
>>>>>>> 25dbaa7 (Update build.alpine.pkr.hcl)
=======
  repository = "ghcr.io/infinite-omicron/pentesting:latest"
>>>>>>> 99258d1 (Update packer/build.alpine.pkr.hcl)
}
<<<<<<< HEAD
<<<<<<< HEAD
=======
=======
>>>>>>> 0f095f1 (pip root warning fixes)

  provisioner "shell" {
    environment_vars = ["GOPATH=$HOME/go","PIP_ROOT_USER_ACTION=ignore"]
    scripts = [
      "scripts/dependencies.sh",
      "scripts/apktool.sh",
      "scripts/dex2jar.sh",
      "scripts/jd_cmd.sh",
      "scripts/theharvester.sh",
      "scripts/zaproxy.sh"
    ]
  }

  provisioner "shell" {
    /* Fix permissions */
    inline = ["chown -R root:root /opt"]
  }
}
<<<<<<< HEAD
>>>>>>> 3b0dbce (Update build.alpine.pkr.hcl)
=======
>>>>>>> aa64b6e (pip warning fixes)
=======
>>>>>>> 25dbaa7 (Update build.alpine.pkr.hcl)
