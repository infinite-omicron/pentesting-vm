Vagrant.configure("2") do |config|
  config.vm.box = "generic/alpine312"

  config.vm.provider "virtualbox" do |vb|
    vb.name = "pentesting-vm"
  end
  
  config.vm.provision "shell", inline: <<-SHELL
    apk update && \
    apk add \
      g++ \
      gcc \
      go \
      git \
      libffi-dev \
      openssl-dev \
      nikto \
      nmap \
      python3-dev \
      py3-pip
    go get github.com/OJ/gobuster
    python3 -m pip install --upgrade pip && \
    pip install mitmproxy sqlmap
    git clone https://github.com/mobsf/mobile-security-framework-mobsf /opt/mobsf
    cd /opt/mobsf && ./setup.sh
  SHELL

end
